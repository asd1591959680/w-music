{"version":3,"sources":["webpack:///./src/network/rank.js","webpack:///./src/views/ranking/Ranking.vue?dde8","webpack:///src/views/ranking/Ranking.vue","webpack:///./src/views/ranking/Ranking.vue?dd3b","webpack:///./src/views/ranking/Ranking.vue","webpack:///./src/views/ranking/Ranking.vue?9b9e"],"names":["getRank","request","url","params","showDetail","getTopList","id","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","uniqueList","_l","item","index","key","on","$event","selectItem","directives","name","rawName","value","expression","song","indey","_v","_s","title","singerName","length","staticRenderFns","components","data","mixins","mixin","created","methods","component"],"mappings":"kHAAA,oFAEO,SAASA,IACd,OAAOC,eAAQ,CACbC,IAAI,gBACJC,OAAO,CACLC,WAAW,KAKV,SAASC,EAAWC,GACzB,OAAOL,eAAQ,CACbC,IAAI,OACJC,OAAO,CACLG,U,2CCfN,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,IAAI,OAAOC,YAAY,QAAQ,CAACH,EAAG,SAAS,CAACE,IAAI,UAAUC,YAAY,UAAUC,MAAM,CAAC,gBAAe,EAAK,KAAOR,EAAIS,aAAa,CAACL,EAAG,KAAKJ,EAAIU,GAAIV,EAAc,YAAE,SAASW,EAAKC,GAAO,OAAOR,EAAG,KAAK,CAACS,IAAID,EAAML,YAAY,OAAOO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,WAAWL,MAAS,CAACP,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,MAAM,CAACa,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOT,EAAW,OAAEU,WAAW,gBAAgBb,MAAM,CAAC,MAAQ,MAAM,OAAS,WAAWJ,EAAG,KAAK,CAACG,YAAY,YAAYP,EAAIU,GAAIC,EAAS,MAAE,SAASW,EAAKC,GAAO,OAAOnB,EAAG,KAAK,CAACS,IAAIU,EAAMhB,YAAY,QAAQ,CAACH,EAAG,OAAO,CAACJ,EAAIwB,GAAGxB,EAAIyB,GAAGF,EAAQ,MAAMnB,EAAG,OAAO,CAACJ,EAAIwB,GAAGxB,EAAIyB,GAAGH,EAAKI,OAAO,IAAI1B,EAAIyB,GAAGH,EAAKK,oBAAmB,QAAO,GAAGvB,EAAG,MAAM,CAACa,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQnB,KAAKQ,WAAWmB,OAAQP,WAAW,4BAA4Bd,YAAY,qBAAqB,CAACH,EAAG,YAAY,KAAKA,EAAG,gBAAgB,IAC1+ByB,EAAkB,G,wEC8BtB,GACAC,WAAA,CACA,cACA,gBAEAC,KALA,WAMA,OACA,gBAGAC,OAAA,CAAAC,EAAA,MACAC,QAXA,WAYA,iBAEAC,QAAA,gBACA,SADA,WACA,WACA,mCACA,gCAIA,eAPA,SAOA,GACA,2BACA,+BACA,8BAEA,WAZA,SAYA,GACA,mBACA,mCAEA,yBAEA,qCC/DgW,I,wBCQ5VC,EAAY,eACd,EACArC,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAO,E,2CCnBf,W","file":"js/chunk-3a7374ad.4d92c21d.js","sourcesContent":["import {request} from './request.js'\r\n\r\nexport function getRank(){\r\n  return request({\r\n    url:'/top/category',\r\n    params:{\r\n      showDetail:1\r\n    }\r\n  })\r\n}\r\n\r\nexport function getTopList(id){\r\n  return request({\r\n    url:'/top',\r\n    params:{\r\n      id\r\n    }\r\n  })\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"rank\",staticClass:\"rank\"},[_c('scroll',{ref:\"toplist\",staticClass:\"toplist\",attrs:{\"pull-up-load\":true,\"data\":_vm.uniqueList}},[_c('ul',_vm._l((_vm.uniqueList),function(item,index){return _c('li',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.selectItem(item)}}},[_c('div',{staticClass:\"icon\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.picUrl),expression:\"item.picUrl\"}],attrs:{\"width\":\"100\",\"height\":\"100\"}})]),_c('ul',{staticClass:\"songlist\"},_vm._l((item.song),function(song,indey){return _c('li',{key:indey,staticClass:\"song\"},[_c('span',[_vm._v(_vm._s(indey + 1))]),_c('span',[_vm._v(_vm._s(song.title)+\"-\"+_vm._s(song.singerName))])])}),0)])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!this.uniqueList.length),expression:\"!this.uniqueList.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)]),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"rank\" ref=\"rank\">\r\n    <scroll class=\"toplist\" :pull-up-load=\"true\" :data=\"uniqueList\" ref=\"toplist\">\r\n      <ul>\r\n        <li class=\"item\" v-for=\"(item,index) in uniqueList\" :key=\"index\" @click=\"selectItem(item)\">\r\n          <div class=\"icon\">\r\n            <img width=\"100\" height=\"100\" v-lazy=\"item.picUrl\" />\r\n          </div>\r\n          <ul class=\"songlist\">\r\n            <li class=\"song\" v-for=\"(song,indey) in item.song\" :key=\"indey\">\r\n              <span>{{indey + 1}}</span>\r\n              <span>{{song.title}}-{{song.singerName}}</span>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n      <div class=\"loading-container\" v-show=\"!this.uniqueList.length\">\r\n        <loading/>\r\n      </div>\r\n    </scroll>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {getRank} from 'network/rank.js'\r\nimport {playlistMixin} from 'common/mixin.js'\r\nimport {mapMutations} from 'vuex'\r\nimport Scroll from 'common/scroll/Scroll.vue'\r\nimport Loading from 'common/loading/Loading.vue'\r\nconst showDetail = 1\r\nexport default {\r\ncomponents: {\r\n  Scroll,\r\n  Loading\r\n},\r\ndata() {\r\nreturn {\r\n  uniqueList:[]\r\n}\r\n},\r\nmixins: [playlistMixin],\r\ncreated() {\r\n  this._getRank()\r\n},\r\nmethods: {\r\n  _getRank(){\r\n    getRank().then((res) => {\r\n      this.uniqueList = res.data[2].list\r\n    })\r\n    \r\n  },\r\n  handlePlaylist(playList){\r\n    const bottom = playList.length > 0 ? '60px' : ''\r\n    this.$refs.rank.style.bottom = bottom\r\n    this.$refs.toplist.refresh()\r\n  },\r\n  selectItem(item){\r\n    this.$router.push({\r\n      path:`/ranking/${item.topId}`\r\n    })\r\n    this.SET_UNIQUELIST(item)\r\n  },\r\n  ...mapMutations(['SET_UNIQUELIST'])\r\n},\r\n}\r\n</script>\r\n<style lang='stylus' scoped>\r\n@import \"~assets/stylus/variable\"\r\n@import \"~assets/stylus/mixin\"\r\n  .rank\r\n    position: fixed\r\n    width: 100%\r\n    top: 88px\r\n    bottom: 0\r\n    .toplist\r\n      height: 100%\r\n      overflow: hidden\r\n      .item\r\n        display: flex\r\n        margin: 0 20px\r\n        padding-top: 20px\r\n        height: 100px\r\n        &:last-child\r\n          padding-bottom: 20px\r\n        .icon\r\n          flex: 0 0 100px\r\n          width: 100px\r\n          height: 100px\r\n        .songlist\r\n          flex: 1\r\n          display: flex\r\n          flex-direction: column\r\n          justify-content: center\r\n          padding: 0 20px\r\n          height: 100px\r\n          overflow: hidden\r\n          background: $color-highlight-background\r\n          color: $color-text-d\r\n          font-size: $font-size-small\r\n          .song\r\n            no-wrap()\r\n            line-height: 26px\r\n      .loading-container\r\n        position: absolute\r\n        width: 100%\r\n        top: 50%\r\n        transform: translateY(-50%)\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ranking.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ranking.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ranking.vue?vue&type=template&id=5b3473c0&scoped=true&\"\nimport script from \"./Ranking.vue?vue&type=script&lang=js&\"\nexport * from \"./Ranking.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Ranking.vue?vue&type=style&index=0&id=5b3473c0&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b3473c0\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ranking.vue?vue&type=style&index=0&id=5b3473c0&lang=stylus&scoped=true&\""],"sourceRoot":""}