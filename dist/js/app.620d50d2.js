(function(t){function e(e){for(var s,i,c=e[0],o=e[1],l=e[2],u=0,d=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);h&&h(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(s=!1)}s&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},i={app:0},r={app:0},a=[];function c(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-0540c575":"84110bb3","chunk-19d569f0":"cc4c2594","chunk-1cf20fda":"85c3fcf3","chunk-203e282a":"5daf6072","chunk-3a7374ad":"4d92c21d","chunk-436cdec0":"eb3b2322","chunk-5d877551":"7d8614da","chunk-ba45d994":"fcf0fb57"}[t]+".js"}function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n={"chunk-0540c575":1,"chunk-19d569f0":1,"chunk-1cf20fda":1,"chunk-203e282a":1,"chunk-3a7374ad":1,"chunk-436cdec0":1,"chunk-5d877551":1,"chunk-ba45d994":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var s="css/"+({}[t]||t)+"."+{"chunk-0540c575":"80302313","chunk-19d569f0":"7ed3ff14","chunk-1cf20fda":"b6119c2b","chunk-203e282a":"f4a20cf2","chunk-3a7374ad":"871a06cc","chunk-436cdec0":"25afe503","chunk-5d877551":"e394a7ac","chunk-ba45d994":"33e3946c"}[t]+".css",r=o.p+s,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var l=a[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===s||u===r))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){l=d[c],u=l.getAttribute("data-href");if(u===s||u===r)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var s=e&&e.target&&e.target.src||r,a=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=s,delete i[t],h.parentNode.removeChild(h),n(a)},h.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){i[t]=0})));var s=r[t];if(0!==s)if(s)e.push(s[2]);else{var a=new Promise((function(e,n){s=r[t]=[e,n]}));e.push(s[2]=a);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=c(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(h);var n=r[t];if(0!==n){if(n){var s=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",d.name="ChunkLoadError",d.type=s,d.request=i,n[1](d)}r[t]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var h=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0130":function(t,e){t.exports="data:image/gif;base64,R0lGODlhZABkAKIEAN7e3rq6uv///5mZmQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBRjA4RUZDMDI3MjA2ODExODA4M0Y1OTQyMzVDRDM3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCMzE0Rjk3NDdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCMzE0Rjk3MzdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVBMTZDQjczOTIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUYwOEVGQzAyNzIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+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"},"03de":function(t,e,n){"use strict";n("f5e0")},"05df":function(t,e,n){},"07dd":function(t,e,n){"use strict";n("05df")},"0806":function(t,e,n){},"08d7":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var s={sequence:0,loop:1,random:2}},1045:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"song-list"},[n("ul",t._l(t.songs,(function(e,s){return n("li",{key:s,staticClass:"item",on:{click:function(n){return t.selectItem(e,s)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.rank,expression:"rank"}],staticClass:"rank"},[n("span",{class:t.getRankCls(s)},[t._v(t._s(t.getRankText(s)))])]),n("div",{staticClass:"content"},[n("h2",{staticClass:"name"},[t._v(t._s(e.name))]),n("p",{staticClass:"desc"},[t._v(t._s(t.getDesc(e)))])])])})),0)])},i=[],r=(n("99af"),n("b0c0"),"selectItem"),a={name:"SongList",props:{songs:{type:Array,default:function(){return[]}},rank:{type:Boolean,dafault:!1}},components:{},data:function(){return{}},methods:{getDesc:function(t){return t.album.name?"".concat(t.singer[0].name," • ").concat(t.album.name):"".concat(t.singer[0].name)},selectItem:function(t,e){this.$emit(r,t,e)},getRankCls:function(t){return t<=2?"icon icon".concat(t):"text"},getRankText:function(t){if(t>2)return t+1}}},c=a,o=(n("9209"),n("2877")),l=Object(o["a"])(c,s,i,!1,null,"0f347cda",null);e["a"]=l.exports},"1bab":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var s=n("bc3a"),i=n.n(s);function r(t){var e=i.a.create({baseURL:"/api",timeout:5e3,withCredentials:!0});return e.interceptors.request.use((function(t){return t}),(function(t){})),e.interceptors.response.use((function(t){return t.data}),(function(t){})),e(t)}},"1d7f":function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return o}));n("b0c0");var s=n("d4ec"),i=n("1bab");function r(t){return Object(i["a"])({url:"/song/urls",params:{id:t}})}var a=function t(e){var n=e.id,i=e.mid,r=e.singer,a=e.name,c=e.album,o=e.duration,l=e.image,u=e.url;Object(s["a"])(this,t),this.id=n,this.mid=i,this.singer=r,this.name=a,this.album=c,this.duration=o,this.image=l,this.url=u};function c(t){return Object(i["a"])({url:"/lyric",params:{songmid:t}})}function o(t){return Object(i["a"])({url:"/songlist",params:{id:t}})}},"200d":function(t,e,n){},"23a4":function(t,e,n){"use strict";n("b6b7")},2686:function(t,e,n){"use strict";n("cf96")},"298f":function(t,e,n){},"2b47":function(t,e,n){t.exports=n.p+"img/default.cbc0e020.png"},3757:function(t,e,n){"use strict";n("4fb2")},"3b02":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-box"},[n("i",{staticClass:"icon-search"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"box",attrs:{placeholder:t.placeholder},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:t.query,expression:"query"}],staticClass:"icon-dismiss",on:{click:t.clear}})])},i=[],r=n("783f"),a={props:{placeholder:{type:String,default:"搜索歌曲、歌手"}},components:{},data:function(){return{query:""}},methods:{clear:function(){this.query=""},setQuery:function(t){this.query=t},blur:function(){this.$refs.input.blur()}},created:function(){var t=this;this.$watch("query",Object(r["a"])((function(e){t.$emit("query",e)}),300))}},c=a,o=(n("23a4"),n("2877")),l=Object(o["a"])(c,s,i,!1,null,"996aeb6a",null);e["a"]=l.exports},"4cc9":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroll",{ref:"scroll",staticClass:"suggest",attrs:{data:t.result,"pull-up-load":!0,beforeScroll:!0},on:{pullingUp:t.searchMore,beforeScroll:t.listScroll}},[n("ul",{staticClass:"suggest-list"},[t._l(t.result,(function(e,s){return n("li",{key:s,staticClass:"suggest-item",on:{click:function(n){return t.selectItem(e)}}},[n("div",{staticClass:"icon"},[n("i",{staticClass:"icon-music"})]),n("div",{staticClass:"name"},[n("p",{staticClass:"text",domProps:{innerHTML:t._s(t.getDisplayName(e))}})])])})),n("loading",{directives:[{name:"show",rawName:"v-show",value:t.hasMore,expression:"hasMore"}]})],2),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasMore&&!t.result.length,expression:"!hasMore && !result.length"}],staticClass:"no-result-wrapper"},[n("no-result",{attrs:{title:"抱歉，暂无搜索结果"}})],1)])},i=[],r=(n("99af"),n("4160"),n("b0c0"),n("a9e3"),n("159b"),n("5530")),a=n("74b4"),c=n("2f62"),o=n("1d7f"),l=n("5d17"),u=n("764a"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"no-result"},[n("div",{staticClass:"no-result-icon"}),n("p",{staticClass:"no-result-text"},[t._v(t._s(t.title))])])},h=[],f={props:{title:{type:String,default:""}}},p=f,m=(n("2686"),n("2877")),g=Object(m["a"])(p,d,h,!1,null,"e94f0d3e",null),v=g.exports,y=20,b="select",C={name:"Suggest",props:{query:{type:String,default:""},searchType:{type:Number,default:0}},components:{Scroll:l["a"],Loading:u["a"],NoResult:v},data:function(){return{pageNo:1,result:[],hasMore:!0}},methods:Object(r["a"])({_search:function(){var t=this;this.pageNo=1,this.hasMore=!0,this.$refs.scroll.scrollTo(0,0),Object(a["b"])(this.query,this.pageNo,this.searchType,y).then((function(e){t.query&&(t.result=t._noramlizeSongs(e.data.list),t._checkMore(e.data))}))},getDisplayName:function(t){return"".concat(t.name,"-").concat(Object(a["a"])(t.singer))},searchMore:function(){var t=this;this.hasMore&&(this.pageNo++,Object(a["b"])(this.query,this.pageNo,this.searchType,y).then((function(e){t.query&&(t.result=t.result.concat(t._noramlizeSongs(e.data.list)),t._checkMore(e.data))})),this.$refs.scroll.finishPullUp())},_checkMore:function(t){var e=t;(!e.list.length||e.pageNo*y>=e.total)&&(this.hasMore=!1)},selectItem:function(t){this.insertSong(t),this.$emit(b)},_noramlizeSongs:function(t){var e=[];return t.forEach((function(t){e.push(new o["a"]({id:t.songid,mid:t.songmid,singer:t.singer,name:t.songname,album:t.albummid,duration:t.interval,image:"https://y.gtimg.cn/music/photo_new/T002R300x300M000".concat(t.albummid,".jpg?max_age=2592000")}))})),e},listScroll:function(){this.$emit("listScroll")},refresh:function(){this.$refs.scroll.refresh()}},Object(c["b"])(["insertSong"])),watch:{query:function(){this._search()},result:function(){this._noramlizeSongs(this.result)}}},A=C,w=(n("9c77"),Object(m["a"])(A,s,i,!1,null,"232e675a",null));e["a"]=w.exports},"4dd8":function(t,e,n){"use strict";n("7db7")},"4fb2":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("m-header"),n("tab-bar"),n("keep-alive",{attrs:{exclude:"SingerDetail,Disc,UniqueList"}},[n("router-view")],1),n("playing")],1)},r=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"header-left"}),t._m(0),n("router-link",{staticClass:"mine",attrs:{to:"/user",tag:"div"}},[n("i",{staticClass:"icon-mine"})])],1)},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-center"},[n("i",{staticClass:"img"}),n("p",{staticClass:"heade-text"},[t._v("Chicken Music")])])}],o={components:{},data:function(){return{}}},l=o,u=(n("83f0"),n("2877")),d=Object(u["a"])(l,a,c,!1,null,"65053c59",null),h=d.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tab-bar"}},[n("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/recommend"}},[n("span",{staticClass:"tab-link"},[t._v("推荐")])]),n("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/singer"}},[n("span",{staticClass:"tab-link"},[t._v("歌手")])]),n("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/ranking"}},[n("span",{staticClass:"tab-link"},[t._v("排行")])]),n("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/search"}},[n("span",{staticClass:"tab-link"},[t._v("搜索")])])],1)},p=[],m={components:{},data:function(){return{}}},g=m,v=(n("83cd"),Object(u["a"])(g,f,p,!1,null,"98efd62a",null)),y=v.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return 0!==Object.keys(t.playList).length?n("div",{staticClass:"player"},[n("transition",{attrs:{name:"normal"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.fullScreen,expression:"fullScreen"}],staticClass:"normal-player"},[n("div",{staticClass:"background"},[n("img",{attrs:{src:t.currentSong.image,width:"100%",height:"100%"}})]),n("div",{staticClass:"top"},[n("div",{staticClass:"back",on:{click:t.back}},[n("i",{staticClass:"icon-back"})]),n("h1",{staticClass:"title",domProps:{innerHTML:t._s(t.currentSong.name)}}),n("h2",{staticClass:"subtitle",domProps:{innerHTML:t._s(t.currentSong.singer[0].name)}})]),n("div",{staticClass:"middle",on:{touchstart:function(e){return e.preventDefault(),t.middleStart(e)},touchmove:function(e){return e.preventDefault(),t.middleMove(e)},touchend:t.middleEnd}},[n("div",{ref:"middleL",staticClass:"middle-l"},[n("div",{staticClass:"cd-wrapper"},[n("div",{staticClass:"cd",class:t.cdCls},[n("img",{staticClass:"image",attrs:{src:t.currentSong.image,alt:""}})])]),n("div",{staticClass:"playing-lyric-wrapper"},[n("div",{staticClass:"playing-lyric"},[t._v(t._s(t.playingLyric))])])]),n("scroll",{ref:"lyricList",staticClass:"middle-r",attrs:{data:t.currentLyric&&t.currentLyric.lines,"pull-up-load":!0}},[n("div",{staticClass:"lyric-wrapper"},[t.currentLyric?n("div",t._l(t.currentLyric.lines,(function(e,s){return n("p",{key:s,ref:"lyricLine",refInFor:!0,staticClass:"text",class:{current:t.currentLineNum===s}},[t._v(t._s(e.txt))])})),0):t._e()])])],1),n("div",{staticClass:"bottom"},[n("div",{staticClass:"dot-wrapper"},[n("span",{staticClass:"dot",class:{active:"cd"===t.currentShow}}),n("span",{staticClass:"dot",class:{active:"lyric"===t.currentShow}})]),n("div",{staticClass:"progress-wrapper"},[n("span",{staticClass:"time time-l"},[t._v(t._s(t.format(1e3*t.currentTime)))]),n("div",{staticClass:"progress-bar-wrapper"},[n("progress-bar",{attrs:{percent:t.percent},on:{onChange:t.onChange}})],1),n("span",{staticClass:"time time-r"},[t._v(t._s(t.format(1e3*t.currentSong.duration)))])]),n("div",{staticClass:"operators"},[n("div",{staticClass:"icon i-left",on:{click:t.changeMode}},[n("i",{class:t.iconMode})]),n("div",{staticClass:"icon i-left",class:t.disableCls},[n("i",{staticClass:"icon-prev",on:{click:t.prev}})]),n("div",{staticClass:"icon i-center",class:t.disableCls},[n("i",{class:t.playIcon,on:{click:t.togglePlaying}})]),n("div",{staticClass:"icon i-right",class:t.disableCls},[n("i",{staticClass:"icon-next",on:{click:t.next}})]),n("div",{staticClass:"icon i-right"},[n("i",{staticClass:"icon",class:t.getFavorite(t.currentSong),on:{click:function(e){return t.toggleFavorite(t.currentSong)}}})])])])])]),n("transition",{attrs:{name:"mini"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.fullScreen,expression:"!fullScreen"}],staticClass:"mini-player",on:{click:t.open}},[n("div",{staticClass:"icon"},[n("img",{class:t.cdCls,attrs:{src:t.currentSong.image,width:"40",height:"40"}})]),n("div",{staticClass:"text"},[n("h2",{staticClass:"name",domProps:{innerHTML:t._s(t.currentSong.name)}}),n("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.currentSong.singer[0].name)}})]),n("div",{staticClass:"control"},[n("progress-circle",{attrs:{percent:t.percent,radius:32}},[n("i",{staticClass:"icon-mini",class:t.miniIcon,on:{click:function(e){return e.stopPropagation(),t.togglePlaying(e)}}})])],1),n("div",{staticClass:"control",on:{click:function(e){return e.stopPropagation(),t.openList(e)}}},[n("i",{staticClass:"icon-playlist"})])])]),n("play-list",{ref:"list"}),n("audio",{ref:"audio",attrs:{src:t.songUrl},on:{canplay:t.ready,error:t.error,timeupdate:t.updateTime,ended:t.end}})],1):t._e()},C=[],A=n("5530"),w=n("2f62"),S=n("1d7f"),L=n("08d7"),k=n("783f"),E=n("f300"),_=n("c1df"),T=n.n(_),I=n("3c75"),O=n.n(I),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"progressBar",staticClass:"progress-bar",on:{click:t.progerssClick}},[n("div",{staticClass:"bar-inner"},[n("div",{ref:"progress",staticClass:"progress"}),n("div",{ref:"progressBtn",staticClass:"progress-btn-wrapper",on:{touchstart:function(e){return e.preventDefault(),t.progressTouchStart(e)},touchmove:function(e){return e.preventDefault(),t.progressTouchMove(e)},touchend:t.progerssTouchEnd}},[n("div",{staticClass:"progress-btn"})])])])},x=[],N=(n("a9e3"),16),R=Object(k["c"])("transform"),M="onChange",q={props:{percent:{type:Number,default:0}},created:function(){this.touch={}},methods:{progressTouchStart:function(t){this.touch.initiated=!0,this.touch.startX=t.touches[0].pageX,this.touch.left=this.$refs.progress.clientWidth},progressTouchMove:function(t){if(this.touch.initiated){var e=t.touches[0].pageX-this.touch.startX,n=Math.min(this.$refs.progressBar.clientWidth-N,Math.max(0,this.touch.left+e));this._offset(n)}},progerssTouchEnd:function(){this.touch.initiated=!1,this._toggleChange()},_offset:function(t){this.$refs.progress.style.width="".concat(t,"px"),this.$refs.progressBtn.style[R]="translate3d(".concat(t,"px,0,0)")},_toggleChange:function(){var t=this.$refs.progressBar.clientWidth-N,e=this.$refs.progress.clientWidth/t;this.$emit(M,e)},progerssClick:function(t){var e=this.$refs.progressBar.getBoundingClientRect(),n=t.pageX-e.left;this._offset(n),this._toggleChange()}},watch:{percent:function(t){if(t>=0&&!this.touch.initiated){var e=this.$refs.progressBar.clientWidth-N,n=t*e;this._offset(n)}}}},D=q,P=(n("3757"),Object(u["a"])(D,j,x,!1,null,"6e530056",null)),F=P.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progress-circle"},[n("svg",{attrs:{width:t.radius,height:t.radius,viewBox:"0 0 100 100",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[n("circle",{staticClass:"progress-background",attrs:{r:"50",cx:"50",cy:"50",fill:"transparent"}}),n("circle",{staticClass:"progress-bar",attrs:{r:"50",cx:"50",cy:"50",fill:"transparent","stroke-dasharray":t.dashArray,"stroke-dashoffset":t.dashOffset}})]),t._t("default")],2)},H=[],B={props:{radius:{type:Number,default:64},percent:{type:Number,dafault:0}},data:function(){return{dashArray:100*Math.PI}},computed:{dashOffset:function(){return(1-this.percent)*this.dashArray}}},z=B,G=(n("07dd"),Object(u["a"])(z,U,H,!1,null,"583817cd",null)),Z=G.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"list-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"playlist",on:{click:t.hide}},[n("div",{staticClass:"list-wrapper",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"list-header"},[n("h1",{staticClass:"title"},[n("i",{staticClass:"icon",class:t.iconMode,on:{click:t.changeMode}}),n("span",{staticClass:"text"},[t._v(t._s(t.modeText))]),n("span",{staticClass:"clear",on:{click:t.showConfirm}},[n("i",{staticClass:"icon-clear"})])])]),n("scroll",{ref:"scroll",staticClass:"list-content",attrs:{data:t.sequenceList,"pull-up-load":!0,refreshDelay:t.refreshDelay}},[n("transition-group",{attrs:{tag:"ul",name:"list"}},t._l(t.sequenceList,(function(e,s){return n("li",{key:e.id,ref:"listItem",refInFor:!0,staticClass:"item",on:{click:function(n){return t.selectItem(e,s)}}},[n("i",{staticClass:"current",class:t.getCurrentIcon(e)}),n("span",{staticClass:"text"},[t._v(t._s(e.name))]),n("span",{staticClass:"like",on:{click:function(n){return n.stopPropagation(),t.toggleFavorite(e)}}},[n("i",{class:t.getFavorite(e)})]),n("span",{staticClass:"delete",on:{click:function(n){return n.stopPropagation(),t.deleteOne(e)}}},[n("i",{staticClass:"icon-delete"})])])})),0)],1),n("div",{staticClass:"list-operate"},[n("div",{staticClass:"add"},[n("i",{staticClass:"icon-add"}),n("span",{staticClass:"text",on:{click:t.addSong}},[t._v("添加歌曲到队列")])])]),n("div",{staticClass:"list-close",on:{click:t.hide}},[n("span",[t._v("关闭")])])],1),n("confirm",{ref:"confirm",attrs:{title:"是否清空列表"},on:{clear:t.clearList}}),n("add-song",{ref:"add"})],1)])},Q=[],J=(n("c740"),n("5d17")),W=n("609b"),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"add-song",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"header"},[n("h1",{staticClass:"title"},[t._v("添加歌曲到列表")]),n("div",{staticClass:"close",on:{click:t.hide}},[n("i",{staticClass:"icon-close"})])]),n("div",{staticClass:"search-box-wrapper"},[n("search-box",{ref:"box",attrs:{placeholder:"搜索歌曲"},on:{query:t.onQuery}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.query,expression:"!query"}],staticClass:"shortcut"},[n("switches",{attrs:{switches:t.switches,currentIndex:t.currentIndex},on:{selectItem:t.switchesItem}}),n("div",{staticClass:"list-wrapper"},[0===t.currentIndex?n("scroll",{ref:"songList",staticClass:"list-scroll",attrs:{data:t.playHistory,"pull-up-load":!0}},[n("div",{staticClass:"list-inner"},[n("song-list",{attrs:{songs:t.playHistory},on:{selectItem:t.selectSong}})],1)]):t._e(),1===t.currentIndex?n("scroll",{ref:"searchList",staticClass:"list-scroll",attrs:{refreshDelay:t.refreshDelay,data:t.searchHistory,"pull-up-load":!0}},[n("div",{staticClass:"list-inner"},[n("search-list",{attrs:{searches:t.searchHistory},on:{deleted:t.deleteSearchHistory,selectItem:t.selectItem}})],1)]):t._e()],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.query,expression:"query"}],staticClass:"search-result"},[n("suggest",{attrs:{query:t.query},on:{select:t.selectSuggest,listScroll:t.blurInput}})],1),n("top-tip",{ref:"showTip"},[n("div",{staticClass:"tip-title"},[n("i",{staticClass:"icon-ok"}),n("span",{staticClass:"text"},[t._v("1首歌曲已添加播放列表")])])])],1)])},V=[],X=n("3b02"),K=n("e10f"),tt=n("4cc9"),et=n("5bc8"),nt=n("1045"),st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"drop"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"top-tip",on:{click:function(e){return e.stopPropagation(),t.hide(e)}}},[t._t("default")],2)])},it=[],rt={props:{delay:{type:Number,default:2e3}},data:function(){return{showFlag:!1}},methods:{show:function(){var t=this;this.showFlag=!0,clearTimeout(this.timer),this.timer=setTimeout((function(){t.hide()}),this.delay)},hide:function(){this.showFlag=!1}}},at=rt,ct=(n("9ace"),Object(u["a"])(at,st,it,!1,null,"78acd3e4",null)),ot=ct.exports,lt={mixins:[E["c"]],data:function(){return{showFlag:!1,currentIndex:0,switches:[{name:"最近播放"},{name:"搜索历史"}]}},computed:Object(A["a"])({},Object(w["c"])(["playHistory","searchHistory"])),components:{SearchBox:X["a"],SearchList:K["a"],Suggest:tt["a"],Switches:et["a"],Scroll:J["a"],SongList:nt["a"],TopTip:ot},methods:Object(A["a"])({show:function(){this.showFlag=!0,0===this.currentIndex?this.$refs.songList.refresh():this.$refs.searchList.refresh()},hide:function(){this.showFlag=!1},selectSuggest:function(){this.saveSearch(),this.showTip()},switchesItem:function(t){this.currentIndex=t},selectSong:function(t,e){0!==e&&(this.insertSong(new S["a"](t)),this.showTip())},showTip:function(){this.$refs.showTip.show()}},Object(w["b"])(["insertSong","deleteSearchHistory"]))},ut=lt,dt=(n("4dd8"),Object(u["a"])(ut,$,V,!1,null,"58df694c",null)),ht=dt.exports,ft={mixins:[E["a"]],data:function(){return{showFlag:!1,refreshDelay:100}},computed:{modeText:function(){return this.mode===L["a"].sequence?"顺序播放":this.mode===L["a"].random?"随机播放":"循环播放"}},methods:Object(A["a"])({show:function(){var t=this;this.showFlag=!0,setTimeout((function(){t.$refs.scroll.refresh(),t.scrollToCurrent(t.currentSong)}),20)},hide:function(){this.showFlag=!1},getCurrentIcon:function(t){return this.currentSong.id===t.id?"icon-play":""},selectItem:function(t,e){this.mode===L["a"].random&&(e=this.playList.findIndex((function(e){return e.id===t.id}))),this.SET_CURRENT_INDEX(e),this.SET_PLAYING(!0)},scrollToCurrent:function(t){var e=this.sequenceList.findIndex((function(e){return t.id===e.id}));this.$refs.scroll.scrollToElement(this.$refs.listItem[e],300)},deleteOne:function(t){this.deleteSong(t),this.playList.length||this.hide()},showConfirm:function(){this.$refs.confirm.show()},clearList:function(){this.deleteList()},addSong:function(){this.$refs.add.show()}},Object(w["b"])(["deleteSong","deleteList"])),components:{Scroll:J["a"],Confirm:W["a"],AddSong:ht},watch:{currentSong:function(t,e){this.showFlag&&t.id!==e.id&&this.scrollToCurrent(t)}}},pt=ft,mt=(n("a40d"),Object(u["a"])(pt,Y,Q,!1,null,"b0ff3036",null)),gt=mt.exports,vt=Object(k["c"])("transform"),yt=Object(k["c"])("transitionDuration"),bt={mixins:[E["a"]],components:{progressBar:F,ProgressCircle:Z,PlayList:gt,Scroll:J["a"]},data:function(){return{songUrl:{},songReady:!1,currentTime:0,currentLyric:{},currentLineNum:0,currentShow:"cd",playingLyric:""}},created:function(){this.touch={}},computed:Object(A["a"])(Object(A["a"])({},Object(w["c"])(["fullScreen","playList","playing","currentIndex"])),{},{playIcon:function(){return this.playing?"icon-pause":"icon-play"},miniIcon:function(){return this.playing?"icon-pause-mini":"icon-play-mini"},cdCls:function(){return this.playing?"play":"play-pause"},disableCls:function(){return this.songReady?"":"disable"},percent:function(){return this.currentTime/this.currentSong.duration}}),methods:Object(A["a"])(Object(A["a"])({_getSongUrl:function(){var t=this;Object(S["d"])(this.currentSong.mid).then((function(e){if(100===e.result){if(!e.data)return;t.songUrl=e.data[t.currentSong.mid]}}))},_getLyric:function(){var t=this;Object(S["b"])(this.currentSong.mid).then((function(e){t.currentLyric=new O.a(e.data.lyric,t.handlerLyric),t.playing&&t.currentLyric.play()})).catch((function(){t.currentLyric=null,t.playingLyric="",t.currentLineNum=0}))},handlerLyric:function(t){var e=t.lineNum,n=t.txt;if(this.currentLineNum=e,e>5){var s=this.$refs.lyricLine[e-5];this.$refs.lyricList.scrollToElement(s,1e3)}else this.$refs.lyricList.scrollTo(0,0,1e3);this.playingLyric=n},back:function(){this.SET_FULL_SCREEN(!1)},open:function(){this.SET_FULL_SCREEN(!0)},togglePlaying:function(){if(this.songReady){var t=this.$refs.audio;this.SET_PLAYING(!this.playing),this.currentLyric&&this.currentLyric.togglePlay(),this.playing?t.play():t.pause()}},ready:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.$refs.audio.play()}),1e3),this.songReady=!0,this.savePlayHistory(this.currentSong)},error:function(){this.songReady=!0},next:function(){if(this.songReady)if(1!==this.playList.length){var t=this.currentIndex+1;t===this.playList.length&&(t=0),this.playing||this.togglePlaying(),this.SET_CURRENT_INDEX(t),this.songReady=!1}else this.loop()},prev:function(){if(this.songReady)if(1!==this.playList.length){var t=this.currentIndex-1;t<0&&(t=this.playList.length-1),this.playing||this.togglePlaying(),this.SET_CURRENT_INDEX(t),this.songReady=!1}else this.loop()},format:function(t){return T()(t).format("mm:ss")},updateTime:function(t){this.currentTime=t.target.currentTime},onChange:function(t){var e=this.currentSong.duration*t;this.$refs.audio.currentTime=e,this.playing||this.togglePlaying(),this.currentLyric&&this.currentLyric.seek(1e3*e)},end:function(){this.mode===L["a"].loop?this.loop():(this.next(),this.$refs.audio.play())},loop:function(){this.$refs.audio.currentTime=0,this.$refs.audio.play(),this.currentLyric&&this.currentLyric.seek(0)},middleStart:function(t){this.touch.initiated=!0;var e=t.touches[0];this.touch.startX=e.pageX,this.touch.startY=e.pageY},middleMove:function(t){if(this.touch.initiated){var e=t.touches[0],n=e.pageX-this.touch.startX,s=e.pageY-this.touch.startY;if(!(Math.abs(s)>Math.abs(n))){var i="cd"===this.currentShow?0:-window.innerWidth,r=Math.min(0,Math.max(-window.innerWidth,i+n));this.touch.percent=Math.abs(r/window.innerWidth),this.$refs.lyricList.$el.style[vt]="translate3d(".concat(r,"px,0,0)"),this.$refs.lyricList.$el.style[yt]=0,this.$refs.middleL.style.opacity=1-this.touch.percent,this.$refs.middleL.style[yt]=0}}},middleEnd:function(){var t,e;"cd"===this.currentShow?this.touch.percent>.2?(t=-window.innerWidth,this.currentShow="lyric",e=0):(t=0,e=1):this.touch.percent<.8?(t=0,this.currentShow="cd",e=1):(t=-window.innerWidth,e=0);var n=300;this.$refs.lyricList.$el.style[vt]="translate3d(".concat(t,"px,0,0)"),this.$refs.lyricList.$el.style[yt]="".concat(n,"ms"),this.$refs.middleL.style.opacity=e,this.$refs.middleL.style[yt]="".concat(n,"ms")},openList:function(){this.$refs.list.show()}},Object(w["d"])(["SET_FULL_SCREEN","SET_PLAYING","SET_CURRENT_INDEX","SET_MODE","SET_PLAY_LIST","SET_SEQUENCE_LIST"])),Object(w["b"])(["savePlayHistory"])),watch:{currentSong:function(){this.playList.length&&(this._getSongUrl(),this._getLyric(),this.currentLyric.lines&&this.currentLyric.stop())}}},Ct=bt,At=(n("cbcd"),Object(u["a"])(Ct,b,C,!1,null,"80473998",null)),wt=At.exports,St={components:{MHeader:h,TabBar:y,Playing:wt}},Lt=St,kt=(n("7faf"),Object(u["a"])(Lt,i,r,!1,null,null,null)),Et=kt.exports,_t=(n("d3b7"),n("8c4f")),Tt=function(){return n.e("chunk-203e282a").then(n.bind(null,"72c9"))},It=function(){return n.e("chunk-5d877551").then(n.bind(null,"2b27"))},Ot=function(){return n.e("chunk-3a7374ad").then(n.bind(null,"2ae3"))},jt=function(){return n.e("chunk-1cf20fda").then(n.bind(null,"794b"))},xt=function(){return n.e("chunk-19d569f0").then(n.bind(null,"6f9b"))},Nt=function(){return n.e("chunk-ba45d994").then(n.bind(null,"81fb"))},Rt=function(){return n.e("chunk-436cdec0").then(n.bind(null,"1b21"))},Mt=function(){return n.e("chunk-0540c575").then(n.bind(null,"42a0"))};s["a"].use(_t["a"]);var qt=[{path:"",redirect:"/recommend"},{path:"/recommend",component:Tt},{path:"/singer",component:It},{path:"/singerlist/:id",component:xt},{path:"/ranking",component:Ot},{path:"/search",component:jt},{path:"/disc/:id",component:Mt},{path:"/ranking/:id",component:Nt},{path:"/user",component:Rt}],Dt=new _t["a"]({mode:"history",base:"/",routes:qt}),Pt=Dt,Ft=(n("fb6a"),n("a434"),"SET_PLAYING"),Ut="SET_FULL_SCREEN",Ht="SET_PLAY_LIST",Bt="SET_SEQUENCE_LIST",zt="SET_MODE",Gt="SET_CURRENT_INDEX",Zt="SET_SEARCH_HISTORY",Yt="SET_PLAY_HISTORY",Qt="SET_FAVORITE",Jt=n("335a"),Wt="__search__",$t="__paly__",Vt="__favorite__",Xt="15",Kt="200",te="200";function ee(t,e,n,s){var i=t.findIndex(n);0!==i&&(i>0&&t.splice(i,1),t.unshift(e),s&&t.length>s&&t.pop())}function ne(t,e){var n=t.findIndex(e);n>-1&&t.splice(n,1)}function se(t){var e=Jt["a"].get(Wt,[]);return ee(e,t,(function(e){return e===t}),Xt),Jt["a"].set(Wt,e),e}function ie(t){var e=Jt["a"].get(Wt,[]);return ne(e,(function(e){return e===t})),Jt["a"].set(Wt,e),e}function re(){return Jt["a"].get(Wt,[])}function ae(){return Jt["a"].remove(Wt),[]}function ce(t){var e=Jt["a"].get($t,[]);return ee(e,t,(function(e){return e.id===t.id}),Kt),Jt["a"].set($t,e),e}function oe(){return Jt["a"].get($t,[])}function le(t){var e=Jt["a"].get(Vt,[]);return ee(e,t,(function(e){return t.id===e.id}),te),Jt["a"].set(Vt,e),e}function ue(t){var e=Jt["a"].get(Vt,[]);return ne(e,(function(e){return t.id===e.id})),Jt["a"].set(Vt,e),e}function de(){return Jt["a"].get(Vt,[])}function he(t,e){return t.findIndex((function(t){return t.id===e.id}))}var fe={selectPlay:function(t,e){var n=t.commit,s=t.state,i=e.list,r=e.index;if(n(Bt,i),s.mode===L["a"].random){var a=Object(k["d"])(i);n(Ht,a),r=he(a,i[r])}else n(Ht,i);n(Gt,r),n(Ut,!0),n(Ft,!0)},randomPlay:function(t,e){var n=t.commit,s=e.list;n(zt,L["a"].random),n(Bt,s);var i=Object(k["d"])(s);n(Ht,i),n(Gt,0),n(Ut,!0),n(Ft,!0)},insertSong:function(t,e){var n=t.commit,s=t.state,i=s.playList.slice(),r=s.sequenceList.slice(),a=s.currentIndex,c=i[a],o=he(i,e);a++,i.splice(a,0,e),o>-1&&(a>o?(i.splice(o,1),a--):i.splice(o+1,1));var l=he(r,c)+1,u=he(r,e);r.splice(l,0,e),u>-1&&(a>o?(r.splice(o,1),a--):r.splice(o+1,1)),n(Ht,i),n(Bt,r),n(Gt,a),n(Ut,!0),n(Ft,!0)},deleteSong:function(t,e){var n=t.commit,s=t.state,i=s.playList.slice(),r=s.sequenceList.slice(),a=s.currentIndex,c=he(i,e);i.splice(c,1);var o=he(r,e);r.splice(o,1),(a>c||a===i.length)&&a--,n(Ht,i),n(Bt,r),n(Gt,a);var l=i.length>0;n(Ft,l)},saveSearchHistory:function(t,e){var n=t.commit;n(Zt,se(e))},deleteSearchHistory:function(t,e){var n=t.commit;n(Zt,ie(e))},clearSearchHistory:function(t){var e=t.commit;e(Zt,ae())},deleteList:function(t){var e=t.commit;e(Ht,[]),e(Bt,[]),e(Gt,-1),e(Ft,!1)},savePlayHistory:function(t,e){var n=t.commit;n(Yt,ce(e))},saveFavorite:function(t,e){var n=t.commit;n(Qt,le(e))},deleteFavorite:function(t,e){var n=t.commit;n(Qt,ue(e))}},pe={singer:function(t){return t.singer},playing:function(t){return t.playing},fullScreen:function(t){return t.fullScreen},playList:function(t){return t.playList},sequenceList:function(t){return t.sequenceList},mode:function(t){return t.mode},currentIndex:function(t){return t.currentIndex},currentSong:function(t){return t.playList[t.currentIndex]||{}},disc:function(t){return t.disc},uniqueList:function(t){return t.uniqueList},searchHistory:function(t){return t.searchHistory},playHistory:function(t){return t.playHistory},favorite:function(t){return t.favorite}},me={SET_SINGER:function(t,e){t.singer=e},SET_PLAYING:function(t,e){t.playing=e},SET_FULL_SCREEN:function(t,e){t.fullScreen=e},SET_PLAY_LIST:function(t,e){t.playList=e},SET_SEQUENCE_LIST:function(t,e){t.sequenceList=e},SET_MODE:function(t,e){t.mode=e},SET_CURRENT_INDEX:function(t,e){t.currentIndex=e},SET_DISC:function(t,e){t.disc=e},SET_UNIQUELIST:function(t,e){t.uniqueList=e},SET_SEARCH_HISTORY:function(t,e){t.searchHistory=e},SET_PLAY_HISTORY:function(t,e){t.playHistory=e},SET_FAVORITE:function(t,e){t.favorite=e}};s["a"].use(w["a"]);var ge=new w["a"].Store({state:{singer:{},playing:!1,fullScreen:!1,playList:[],sequenceList:[],mode:L["a"].sequence,currentIndex:-1,disc:{},uniqueList:{},searchHistory:re(),playHistory:oe(),favorite:de()},mutations:me,actions:fe,getters:pe,modules:{}}),ve=n("caf9");s["a"].use(ve["a"],{loading:n("2b47")}),s["a"].config.productionTip=!1,new s["a"]({router:Pt,store:ge,render:function(t){return t(Et)}}).$mount("#app")},"5bc8":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"switches"},t._l(t.switches,(function(e,s){return n("li",{key:s,staticClass:"switch-item",class:{active:t.currentIndex===s},on:{click:function(e){return t.selectItem(s)}}},[n("span",[t._v(t._s(e.name)+" ")])])})),0)},i=[],r=(n("a9e3"),{props:{switches:{type:Array,default:[]},currentIndex:{type:Number,default:0}},methods:{selectItem:function(t){this.$emit("selectItem",t)}}}),a=r,c=(n("03de"),n("2877")),o=Object(c["a"])(a,s,i,!1,null,"21fcbde9",null);e["a"]=o.exports},"5d17":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper",staticClass:"wrapper"},[n("div",[t._t("default")],2)])},i=[],r=(n("a9e3"),n("f40f")),a={props:{probeType:{type:Number,default:0},pullUpLoad:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},components:{},data:function(){return{scroll:null}},mounted:function(){var t=this;this.scroll=new r["a"](this.$refs.wrapper,{click:!0,probeType:this.probeType,pullUpLoad:this.pullUpLoad}),this.scroll.on("scroll",(function(e){t.$emit("scroll",e)})),this.scroll.on("pullingUp",(function(){t.$emit("pullingUp")})),this.beforeScroll&&this.scroll.on("beforeScrollStart",(function(){t.$emit("beforeScroll")}))},methods:{scrollTo:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;this.scroll&&this.scroll.scrollTo(t,e,n)},scrollToElement:function(t,e){this.scroll&&this.scroll.scrollToElement(t,e)},finishPullUp:function(){this.scroll.finishPullUp()},refresh:function(){this.scroll&&this.scroll.refresh()}},watch:{data:function(){var t=this;setTimeout((function(){t.refresh()}),this.refreshDelay)}}},c=a,o=n("2877"),l=Object(o["a"])(c,s,i,!1,null,"5a044299",null);e["a"]=l.exports},"5d9c":function(t,e,n){var s={"./zh-cn":"5c3a","./zh-cn.js":"5c3a"};function i(t){var e=r(t);return n(e)}function r(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="5d9c"},"5fe9":function(t,e,n){},"609b":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"confirm-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"confirm",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"confirm-wrapper"},[n("div",{staticClass:"confirm-content"},[n("p",{staticClass:"text"},[t._v(t._s(t.title))]),n("div",{staticClass:"operate"},[n("div",{staticClass:"operate-btn left",on:{click:t.cancelItem}},[t._v(t._s(t.cancelBtn))]),n("div",{staticClass:"operate-btn",on:{click:t.clearItem}},[t._v(t._s(t.clearBtn))])])])])])])},i=[],r={props:{title:{type:String,default:""},cancelBtn:{type:String,default:"取消"},clearBtn:{type:String,default:"清空"}},data:function(){return{showFlag:!1}},methods:{show:function(){this.showFlag=!0},hide:function(){this.showFlag=!1},cancelItem:function(){this.hide(),this.$emit("cancel")},clearItem:function(){this.hide(),this.$emit("clear")}}},a=r,c=(n("bca4"),n("2877")),o=Object(c["a"])(a,s,i,!1,null,"3be7fce1",null);e["a"]=o.exports},"74b4":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));n("4160"),n("a15b"),n("b0c0"),n("159b");var s=n("1bab");function i(){return Object(s["a"])({url:"/search/hot"})}function r(t,e,n,i){return Object(s["a"])({url:"/search",params:{key:t,pageNo:e,t:n,pageSize:i}})}function a(t){var e=[];return t?(t.forEach((function(t){e.push(t.name)})),e.join("/")):""}},"764a":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading"},[s("img",{attrs:{width:"24",height:"24",src:n("0130")}}),s("p",{staticClass:"desc"},[t._v(t._s(t.title))])])},i=[],r={props:{title:{type:String,default:"正在载入..."}}},a=r,c=(n("dd21"),n("2877")),o=Object(c["a"])(a,s,i,!1,null,"501cdd5a",null);e["a"]=o.exports},"783f":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return l}));n("fb6a");function s(t,e,n){var s="data-";return e=s+e,n?t.setAttribute(e.val):t.getAttribute(e)}var i=document.createElement("div").style,r=function(){var t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var e in t)if(void 0!==i[t[e]])return e;return!1}();function a(t){return!1!==r&&("standard"===r?t:r+t.charAt(0).toUpperCase()+t.substr(1))}function c(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function o(t){for(var e=t.slice(),n=0;n<e.length;n++){var s=c(0,n),i=e[n];e[n]=e[s],e[s]=i}return e}function l(t,e){var n=null;return function(){for(var s=this,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];n&&clearTimeout(n),n=setTimeout((function(){t.apply(s,r)}),e)}}},"7db7":function(t,e,n){},"7faf":function(t,e,n){"use strict";n("b8ff")},"83cd":function(t,e,n){"use strict";n("ccdd")},"83f0":function(t,e,n){"use strict";n("200d")},9209:function(t,e,n){"use strict";n("d153")},"96df":function(t,e,n){"use strict";n("5fe9")},"9ace":function(t,e,n){"use strict";n("f54e")},"9c77":function(t,e,n){"use strict";n("298f")},a40d:function(t,e,n){"use strict";n("b129")},b129:function(t,e,n){},b1fb:function(t,e,n){},b4fd:function(t,e,n){},b6b7:function(t,e,n){},b8ff:function(t,e,n){},bca4:function(t,e,n){"use strict";n("b4fd")},cbcd:function(t,e,n){"use strict";n("b1fb")},ccdd:function(t,e,n){},cf96:function(t,e,n){},d153:function(t,e,n){},dd21:function(t,e,n){"use strict";n("0806")},e10f:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.searches.length,expression:"searches.length"}],staticClass:"search-list"},[n("transition-group",{attrs:{name:"list",tag:"ul"}},t._l(t.searches,(function(e){return n("li",{key:e,staticClass:"search-item",on:{click:function(n){return t.selectItem(e)}}},[n("span",{staticClass:"text"},[t._v(t._s(e))]),n("span",{staticClass:"icon",on:{click:function(n){return n.stopPropagation(),t.deleted(e)}}},[n("i",{staticClass:"icon-delete"})])])})),0)],1)},i=[],r={props:{searches:{type:Array,default:[]}},methods:{selectItem:function(t){this.$emit("selectItem",t)},deleted:function(t){this.$emit("deleted",t)}}},a=r,c=(n("96df"),n("2877")),o=Object(c["a"])(a,s,i,!1,null,"123c9080",null);e["a"]=o.exports},f300:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return l}));n("c740");var s=n("5530"),i=n("2f62"),r=n("08d7"),a=n("783f"),c={computed:Object(s["a"])({},Object(i["c"])(["playList"])),methods:{handlePlaylist:function(){throw new Error("component must implement handlePlaylist method")}},mounted:function(){this.handlePlaylist(this.playList)},activated:function(){this.handlePlaylist(this.playList)},watch:{playList:function(t){this.handlePlaylist(t)}}},o={computed:Object(s["a"])({iconMode:function(){return this.mode===r["a"].sequence?"icon-sequence":this.mode===r["a"].loop?"icon-loop":"icon-random"}},Object(i["c"])(["sequenceList","currentSong","mode","playList","favorite"])),methods:Object(s["a"])(Object(s["a"])({changeMode:function(){var t=(this.mode+1)%3;this.SET_MODE(t);var e=null;e=t===r["a"].random?Object(a["d"])(this.sequenceList):this.sequenceList,this.resetCurrentIndex(e),this.SET_PLAY_LIST(e)},resetCurrentIndex:function(t){var e=this,n=t.findIndex((function(t){return t.id===e.currentSong.id}));this.SET_CURRENT_INDEX(n)},getFavorite:function(t){return this.isFavorite(t)?"icon-favorite":"icon-not-favorite"},toggleFavorite:function(t){this.isFavorite(t)?this.deleteFavorite(t):this.saveFavorite(t)},isFavorite:function(t){var e=this.favorite.findIndex((function(e){return e.id===t.id}));return e>-1}},Object(i["d"])(["SET_PLAYING","SET_CURRENT_INDEX","SET_MODE","SET_PLAY_LIST"])),Object(i["b"])(["saveFavorite","deleteFavorite"]))},l={data:function(){return{query:"",refreshDelay:100}},computed:Object(s["a"])({},Object(i["c"])(["searchHistory"])),methods:Object(s["a"])({selectItem:function(t){this.$refs.box.setQuery(t)},onQuery:function(t){this.query=t},blurInput:function(){this.$refs.box.blur()},saveSearch:function(){this.saveSearchHistory(this.query)}},Object(i["b"])(["saveSearchHistory","deleteSearchHistory"]))}},f54e:function(t,e,n){},f5e0:function(t,e,n){}});
//# sourceMappingURL=app.620d50d2.js.map